# 그림으로 공부하는 IT인프라 구조

#### 

## 1. 인프라 아키텍처를 살펴보자

#### 

### 인프라 아키텍처?

---

- **인프라** : 우리의 생활을 지탱하는 바탕이나 토대란 의미

- **IT 인프라** : IT의 기반이 되는 것으로서, 이 역시 우리의 생활을 지탱하고 있다.

- **인프라 아키텍처**
  
  - 아키텍처란, 직역하면 '구조'라는 의미다.
  
  - 즉, 인프라 아키텍처는 **IT 인프라의 구조**이다.

> 하나의 만능 아키텍처로 모든 프로젝트에 적용할 수는 없을까?
> 
> 대답은 **NO**!
> 
> 아키텍처나 설계 요소에는 장단점이 존재하기 때문에, 상황에 따라 취사선택을 해야한다. (그중에서도 가장 제약이 많은 것은 시스템 도입 비용)

#### 

### 집약형과 분할형 아키텍처

---

1. **집약형 아키텍처**
   
   - IT 시스템의 여명기에는 대형 컴퓨터를 이용해서 모든 업무를 처리하는 형태가 대부분이었다.
   
   - 이런 대형 컴퓨터는 '범용 장비', '호스트', '메인 프레임' 등으로 불리었다.
   
   - 주요 부품이 모두 **다중화**되어 있어서 하나가 고장나더라도 업무를 계속할 수 있다.
   
   - 복수의 업무 처리를 동시 실행할 수 있도록 **유한 리소스 관리**를 하고 있다.
   
   - 장점
     
     - 한 대의 대형 컴퓨터만 있으면 되므로 **구성이 간단**하다.
     
     - 대형 컴퓨터의 리소스 관리나 이중화에 의해 **안정성이 높고 고성능**이다.
   
   - 단점
     
     - 대형 컴퓨터의 **도입 비용**과 **유지 비용**이 **크다**.
     
     - **확장성에 한계**가 있다.

2. **분할형 아키텍처**
   
   - 현재는 소형 컴퓨터라도 충분한 성능을 낼 수 있고, 대형 컴퓨테와 비교해서 구입 비용이 압도적으로 저렴하다.
   
   - 분할형 아키텍처는 표준 OS나 개발 언어를 이용하기 때문에 **오픈 시스템**이라고도 부른다.
   
   - 여러 대의 컴퓨터를 연결해서 이용하기 때문에 **분산 시스템**이라고도 부른다.
   
   - 장점
     
     - **낮은 비용**
     
     - 서버 대수를 늘릴 수 있어 **확장성이 높다**.
   
   - 단점
     
     - 서버 대수가 늘어날수록 **관리 구조가 복잡**해진다.
     
     - 한 대가 망가져도 **영향 범위를 최소화하기 위한 구조**를 고려해야 한다.

#### 

### 수직 분할형 아키텍처

---

- **서버별로 다른 역할을 담당**하는 수직 분할형 아키텍처에 대해 알아보자.
1. **클라이언트/서버형 아키텍처**
   
   - 클라이언트 측에 전용 소프트웨어를 설치해야 한다.
   
   - 서버 측은 데이터 입출력만 하면 되기때문에 처리당 부하가 낮아서 많은 PC가 동시에 요청을 보낼 수 있다.
   
   - 장점
     
     - 클라이언트 측에서 많은 처리를 실행할 수 있어서, **소수의 서버**로 **다수의 클라이언트**를 처리할 수 있다.
   
   - 단점
     
     - 클라이언트 측의 **소프트웨어 정기 업데이트**가 필요하다.
     
     - **서버 확장성에 한계**가 발생할 수 있다.

2. **3계층형 아키텍처**
   
   - 클라이언트/서버형을 발전시킨 것으로, **프레젠테이션 계층** / **애플리케이션 계층** / **데이터 계층**의 3층 구조로 분할되어 있다.
   
   - 대부분이 사용하는 일반적인 아키텍처이다.
   
   - 프레젠테이션 계층
     
     - 사용자 입력을 받는다.
     
     - 웹 브라우저 화면을 표시한다.
   
   - 애플리케이션 계층
     
     - 사용자 요청(request)에 따라 업무를 처리한다.
   
   - 데이터 계층
     
     - 애플리케이션 계층의 요청에 따라 데이터 입출력을 한다.
   
   - 장점
     
     - 클라이언트/서버형에 비해 특정 서버에 부하가 집중되는 문제가 해결된다.
     
     - 클라이언트 단말의 정기 업데이트가 불필요하다.
     
     - 모든 처리가 AP서버나 DB서버를 이용하지 않아도 돼서 부하가 줄어든다.
   
   - 단점
     
     - 시스템 전체 구조가 클라이언트/서버형에 비해 복잡하다.

#### 

### 수평 분할형 아키텍처

---

- 수평 분할형 아키텍처는 **용도가 같은 서버를 늘려나가는 방식**으로, 한 대가 시스템에 주는 영향력을 낮춰 안정성을 향상시킨다.

- 처리를 담당하는 서버 대수가 늘어나면, 전체적인 성능 향상도 실현할 수 있다.

- 수직 분할형과 수평 분할형은 배타적인 관계가 아니다. 대부분의 시스템은 이 두 가지 방식을 함께 채택하고 있다.
1. **단순 수평 분할형 아키텍처**
   
   - 각각의 독립된 시스템으로 분할하는 방식
   
   - 한 쪽에 장애가 발생하더라도 다른 쪽 시스템에는 영향을 주지 않는다.
   
   - 하지만 같은 애플리케이션을 이용하고 있다면, 애플리케이션 업데이트를 매번 각각의 시스템에 실시해 주어야 한다.
   
   - 장점
     
     - 수평으로 서버를 늘리기 때문에 확장성이 향상된다.
     
     - 분할한 시스템이 독립적으로 운영되므로 서로 영향을 주지 않는다.
   
   - 단점
     
     - 데이터를 동시에(일원화해서) 이용할 수 없다.
     
     - 애플리케이션 업데이트를 각각에 동시에 해줘야 한다.
     
     - 처리량이 균등하지 않으면 한 쪽 시스템에 부하가 집중된다.

2. **공유형 아키텍처**
   
   - 일부 계층에서 상호 접속이 이루어진다.
   
   - 장점
     
     - 수평으로 서버를 늘리기 때문에 확장성이 향상된다.
     
     - 분할한 시스템이 서로 다른 시스템의 데이터를 참조할 수 있다.
   
   - 단점
     
     - 분할한 시스템 간 독립성이 낮아진다.
     
     - 공유한 계층의 확장성이 낮아진다.

#### 

### 지리 분할형 아키텍처

---

- 업무 연속성 및 시스템 가용성을 높이기 위한 방식으로 지리적으로 분할하는 아키텍처에 대해 알아보자.
1. **스탠바이형 아키텍처**
   
   - 물리 서버를 최소 두 대를 준비하여, 한 대가 고장 나면 가동 중인 소프트웨어를 다른 한 대로 옮겨서 운영하는 방식이다.
   
   - 이때, 소프트웨어 재시작을 자동으로 하는 구조를 페일오버(failover, F/O)라 한다.
   
   - 물리 서버 고장에 대처할 수 있지만, 스탠바이 서버가 놀고 있는 상태가 되기 때문에 리소스 측면에서 낭비가 발생한다.
   
   - 이 문제를 해결하기 위해 스탠바이를 따로 두지 않고, 양쪽 서버를 동시에 교차 이용하는 경우도 있다.

2. 재해 대책형 아키텍처
   
   - 서버 장비를 최소 구성 및 동시 구성으로 별도 사이트에 배치하고 소프트웨어도 상용 환경과 동일하게 설정한 후, 재해가 발생하면 이용하는 방식이다.
   
   - 애플리케이션 최신화와 데이터 최신화를 고려해야 한다.

3. 클라우드형 아키텍처
   
   - 어떤 계층을 클라우드 상에 배치하는가에 따라 명칭이 달라진다.
     
     - Saas (Software as a Service) : 웹 메일 서비스와 같이 애플리케이션 전체를 서비스 회사가 제공
     
     - Paas (Platform as a Service), Iaas (Infrastructure as a Service), DBaaS (Database as a Service) : 서버의 일부 혹은 전부를 클라우드 상의 리소스로 대체한다.

<br/>

## 2. 서버를 열어보자

<br/>

### 물리 서버

---

- **서버 외관과 설치 장소**
  
  - 서버는 랙(rack)이라는 것에 장착되며, 랙에는 서버 외에도 HDD나 네트워크 스위치 등이 탑재돼 있다.
  
  - 서버 랙은 규격이 있는데, 폭 19인치, 높이 4.5cm인 눈금이 40~46개 정도 존재한다. (한 눈금을 1U라 한다)
  
  - 서버 설치 시에 중요한 정보는 **서버 크기(U) / 소비 전력(A) / 중량(kg)** 이다.

- **서버 내부 구성**
  
  - 
